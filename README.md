# AutoEver íšŒì›ê´€ë¦¬ ì‹œìŠ¤í…œ

> **ì‚¬ìš©í•œ AI ëª¨ë¸**: Claude Sonnet 4  
> **ì „ëµ**: AI ì£¼ë„ê°œë°œ (ë°”ì´ë¸Œì½”ë”©)  
> **MCP**: íƒœìŠ¤í¬ë§ˆìŠ¤í„°  
> **í”„ë¡¬í”„íŠ¸ í™•ì¸**: PROMPT.md

Spring Boot ê¸°ë°˜ì˜ íšŒì›ê´€ë¦¬ ë° ë©”ì‹œì§€ ë°œì†¡ ì‹œìŠ¤í…œì…ë‹ˆë‹¤. JWT ì¸ì¦ê³¼ H2 ì¸ë©”ëª¨ë¦¬ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### ğŸ‘¤ íšŒì›ê´€ë¦¬ ì‹œìŠ¤í…œ
- **íšŒì›ê°€ì…/ë¡œê·¸ì¸**: JWT ê¸°ë°˜ ì¸ì¦ ì‹œìŠ¤í…œ
- **íšŒì› ì •ë³´ ê´€ë¦¬**: CRUD ê¸°ëŠ¥ ë° ì—°ë ¹ëŒ€ë³„ ë¶„ë¥˜
- **ê´€ë¦¬ì ê¸°ëŠ¥**: íšŒì› ì¡°íšŒ, ìˆ˜ì •, ì‚­ì œ ê¶Œí•œ

### ğŸ“± ë©”ì‹œì§€ ë°œì†¡ ì‹œìŠ¤í…œ
- **í ê¸°ë°˜ ì²˜ë¦¬**: ìµœëŒ€ 1,500ê°œ ë©”ì‹œì§€ ëŒ€ê¸°ì—´ë¡œ ì•ˆì •ì  ì²˜ë¦¬
- **Fallback ë©”ì»¤ë‹ˆì¦˜**: KakaoTalk â†’ SMS ìë™ ì „í™˜
- **Rate Limiting**: KakaoTalk 100ê±´/ë¶„, SMS 500ê±´/ë¶„ ì œí•œ
- **ì‹¤ì‹œê°„ í†µê³„**: ì±„ë„ë³„ ì„±ê³µ/ì‹¤íŒ¨ ê±´ìˆ˜ ì‹¤ì‹œê°„ ì¶”ì 
- **ì—°ë ¹ëŒ€ë³„ ëŒ€ëŸ‰ ë°œì†¡**: 10ëŒ€~50ëŒ€ ì´ìƒ ì—°ë ¹ëŒ€ë³„ ì¼ê´„ ë°œì†¡

## ê¸°ìˆ  ìŠ¤íƒ

- **Java 21**
- **Spring Boot 3.3.4**
- **Spring Security** (JWT ì¸ì¦)
- **Spring Data JPA**
- **H2 Database** (ì¸ë©”ëª¨ë¦¬)
- **Gradle 8.10**
- **Mock Servers** (KakaoTalk, SMS API ì‹œë®¬ë ˆì´ì…˜)

## ë¡œì»¬ ì‹¤í–‰ ë°©ë²•

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­
- Java 21 ì´ìƒ ì„¤ì¹˜
- Git ì„¤ì¹˜

### ì‹¤í–‰ ë‹¨ê³„

1. **ì €ì¥ì†Œ í´ë¡ **
   ```bash
   git clone <repository-url>
   cd autoever1
   ```

2. **ì „ì²´ ì‹œìŠ¤í…œ ì‹¤í–‰** (ê¶Œì¥)
   ```bash
   ./start.sh
   ```
   > ğŸš€ **í•œ ë²ˆì— ëª¨ë“  ì„œë²„ ì‹œì‘**: Mock ì„œë²„ë“¤ê³¼ ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìë™ìœ¼ë¡œ ì‹œì‘í•©ë‹ˆë‹¤.

3. **ê°œë³„ ì„œë²„ ì‹¤í–‰** (ê°œë°œìš©)
   ```bash
   # KakaoTalk Mock Server (ë³„ë„ í„°ë¯¸ë„)
   ./gradlew :mock-servers:kakaotalk-mock:bootRun
   
   # SMS Mock Server (ë³„ë„ í„°ë¯¸ë„)
   ./gradlew :mock-servers:sms-mock:bootRun
   
   # ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ (ë³„ë„ í„°ë¯¸ë„)
   ./gradlew bootRun
   ```
   
   ë˜ëŠ” JAR íŒŒì¼ ë¹Œë“œ í›„ ì‹¤í–‰:
   ```bash
   ./gradlew build
   java -jar build/libs/autoever-member-system-0.0.1-SNAPSHOT.jar
   ```

4. **ì• í”Œë¦¬ì¼€ì´ì…˜ ì ‘ì†**
   - **API ì„œë²„**: http://localhost:8080
   - **Swagger UI**: http://localhost:8080/swagger-ui/index.html (admin/1212)
   - **KakaoTalk Mock**: http://localhost:8081
   - **SMS Mock**: http://localhost:8082



## API ì—”ë“œí¬ì¸íŠ¸

### ğŸ” ì¸ì¦ API
```
POST /api/users/register  # íšŒì›ê°€ì…
POST /api/users/login     # ë¡œê·¸ì¸
POST /api/users/logout    # ë¡œê·¸ì•„ì›ƒ
GET  /api/users/me        # ë³¸ì¸ ì •ë³´ ì¡°íšŒ
```

### ğŸ‘¨â€ğŸ’¼ ê´€ë¦¬ì API
```
GET    /api/admin/users              # íšŒì› ëª©ë¡ ì¡°íšŒ (í˜ì´ì§•)
GET    /api/admin/users/{id}         # íŠ¹ì • íšŒì› ì¡°íšŒ
PUT    /api/admin/users/{id}         # íšŒì› ì •ë³´ ìˆ˜ì •
DELETE /api/admin/users/{id}         # íšŒì› ì‚­ì œ
```

### ğŸ“¨ ë©”ì‹œì§€ ë°œì†¡ API
```
POST /api/admin/messages/send         # ëŒ€ëŸ‰ ë©”ì‹œì§€ ë°œì†¡
GET  /api/admin/messages/statistics   # ë°œì†¡ í†µê³„ ì¡°íšŒ
POST /api/admin/messages/statistics/reset # í†µê³„ ì´ˆê¸°í™”
```

**ê´€ë¦¬ì ì¸ì¦**: Basic Auth (admin / 1212)

## ğŸ“Š ë©”ì‹œì§€ ë°œì†¡ í†µê³„

ì‹¤ì‹œê°„ìœ¼ë¡œ ë‹¤ìŒ í†µê³„ë¥¼ ì œê³µí•©ë‹ˆë‹¤:
- **totalAttempts**: ì „ì²´ ë°œì†¡ ì‹œë„ ìˆ˜
- **kakaoSuccessCount**: ì¹´ì¹´ì˜¤í†¡ ì„±ê³µ ê±´ìˆ˜
- **smsSuccessCount**: SMS ì„±ê³µ ê±´ìˆ˜
- **failureCount**: ì‹¤íŒ¨ ê±´ìˆ˜
- **currentQueueSize**: í˜„ì¬ í ëŒ€ê¸° ê±´ìˆ˜
- **maxQueueSize**: ìµœëŒ€ í ìš©ëŸ‰ (1,500ê°œ)

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

ì „ì²´ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ì™€ ë©”ì‹œì§€ í”Œë¡œìš°ëŠ” [design/messaging/current-architecture.md](design/messaging/current-architecture.md)ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### í•µì‹¬ ì»´í¬ë„ŒíŠ¸
- **MessageQueueService**: ë©”ì‹œì§€ ëŒ€ê¸°ì—´ ê´€ë¦¬
- **MessageQueueProcessor**: ë°±ê·¸ë¼ìš´ë“œ ë©”ì‹œì§€ ì²˜ë¦¬ (10ms ì£¼ê¸°)
- **ApiRateLimiter**: ìŠ¬ë¼ì´ë”© ìœˆë„ìš° ê¸°ë°˜ ì†ë„ ì œí•œ
- **MessageSendTracker**: ì‹¤ì‹œê°„ í†µê³„ ìˆ˜ì§‘
- **FallbackMessageService**: KakaoTalk â†’ SMS ìë™ ì „í™˜

## ë°ì´í„°ë² ì´ìŠ¤

- **H2 ì¸ë©”ëª¨ë¦¬ ë°ì´í„°ë² ì´ìŠ¤** ì‚¬ìš©
- ì• í”Œë¦¬ì¼€ì´ì…˜ ì¬ì‹œì‘ ì‹œ ë°ì´í„° ì´ˆê¸°í™”
- ë³„ë„ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì¹˜ ë¶ˆí•„ìš”

## ê°œë°œ í™˜ê²½

### ë¹Œë“œ
```bash
./gradlew build
```

### í…ŒìŠ¤íŠ¸ (358ê°œ í…ŒìŠ¤íŠ¸)
```bash
./gradlew test
```

### ê°œë°œ ì„œë²„ ì‹¤í–‰ (DevTools)
```bash
./gradlew bootRun
```

## ì™¸ë¶€ ì˜ì¡´ì„±

ì´ í”„ë¡œì íŠ¸ëŠ” Mock ì„œë²„ì™€ ì—°ë™ë©ë‹ˆë‹¤:

- **KakaoTalk Mock API**: http://localhost:8081/kakaotalk-messages
- **SMS Mock API**: http://localhost:8082/sms

ì‹¤ì œ ìš´ì˜ì—ì„œëŠ” ì‹¤ì œ ì¹´ì¹´ì˜¤í†¡/SMS APIë¡œ êµì²´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
src/
â”œâ”€â”€ main/
â”‚   â”œâ”€â”€ java/com/autoever/member/
â”‚   â”‚   â”œâ”€â”€ controller/           # REST ì»¨íŠ¸ë¡¤ëŸ¬
â”‚   â”‚   â”œâ”€â”€ service/              # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ repository/           # ë°ì´í„° ì•¡ì„¸ìŠ¤
â”‚   â”‚   â”œâ”€â”€ entity/               # JPA ì—”í‹°í‹°
â”‚   â”‚   â”œâ”€â”€ dto/                  # ë°ì´í„° ì „ì†¡ ê°ì²´
â”‚   â”‚   â”œâ”€â”€ config/               # ì„¤ì • í´ë˜ìŠ¤
â”‚   â”‚   â”œâ”€â”€ exception/            # ì˜ˆì™¸ ì²˜ë¦¬
â”‚   â”‚   â””â”€â”€ message/              # ë©”ì‹œì§€ ë°œì†¡ ì‹œìŠ¤í…œ
â”‚   â”‚       â”œâ”€â”€ client/           # ì™¸ë¶€ API í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚       â”œâ”€â”€ queue/            # ë©”ì‹œì§€ í ì‹œìŠ¤í…œ
â”‚   â”‚       â”œâ”€â”€ ratelimit/        # Rate Limiting
â”‚   â”‚       â”œâ”€â”€ result/           # í†µê³„ ë° ê²°ê³¼ ì¶”ì 
â”‚   â”‚       â”œâ”€â”€ service/          # ë©”ì‹œì§€ ì„œë¹„ìŠ¤
â”‚   â”‚       â””â”€â”€ template/         # ë©”ì‹œì§€ í…œí”Œë¦¿
â”‚   â””â”€â”€ resources/
â”‚       â””â”€â”€ application.yml       # ì• í”Œë¦¬ì¼€ì´ì…˜ ì„¤ì •
â”œâ”€â”€ test/                         # í…ŒìŠ¤íŠ¸ ì½”ë“œ (358ê°œ)
â””â”€â”€ mock-servers/                 # Mock ì„œë²„ë“¤
    â”œâ”€â”€ kakaotalk-mock/           # KakaoTalk API Mock
    â””â”€â”€ sms-mock/                 # SMS API Mock
```

## ë³´ì•ˆ

- **JWT í† í°** ê¸°ë°˜ ì¸ì¦
- **BCrypt** íŒ¨ìŠ¤ì›Œë“œ í•´ì‹±
- **Basic Auth** (ê´€ë¦¬ì API)
- **Spring Security** ì„¤ì •
- **CORS** ì„¤ì •
- **CSRF** ë³´í˜¸

## ğŸ“ˆ ì„±ëŠ¥ íŠ¹ì§•

- **í ê¸°ë°˜ ì²˜ë¦¬**: ëŒ€ëŸ‰ ë©”ì‹œì§€ ì²˜ë¦¬ ì‹œ ì•ˆì •ì„± í™•ë³´
- **Rate Limiting**: API í˜¸ì¶œ ì œí•œìœ¼ë¡œ ì™¸ë¶€ ì„œë¹„ìŠ¤ ë³´í˜¸
- **ë¹„ë™ê¸° ì²˜ë¦¬**: ëŒ€ëŸ‰ ë°œì†¡ ìš”ì²­ ì¦‰ì‹œ ì‘ë‹µ
- **Fallback ë©”ì»¤ë‹ˆì¦˜**: ë†’ì€ ê°€ìš©ì„± ë³´ì¥
- **ì‹¤ì‹œê°„ í†µê³„**: ë°œì†¡ í˜„í™© ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€

- **ì´ 358ê°œ** í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤
- ë‹¨ìœ„ í…ŒìŠ¤íŠ¸, í†µí•© í…ŒìŠ¤íŠ¸ í¬í•¨
- Mock ì„œë²„ ì—°ë™ í…ŒìŠ¤íŠ¸
- API ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸
- ë©”ì‹œì§€ ë°œì†¡ í”Œë¡œìš° í…ŒìŠ¤íŠ¸

## ğŸ“ Swaggerë¥¼ í™œìš©í•œ ë©”ì‹œì§€ ì „ì†¡ í…ŒìŠ¤íŠ¸

### 1ë‹¨ê³„: í…ŒìŠ¤íŠ¸ ì‚¬ìš©ì ìƒì„±
Swagger UIì—ì„œ **`/api/test/users`** ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸ ì‚¬ìš©ìë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

### 2ë‹¨ê³„: ë©”ì‹œì§€ ì „ì†¡
Swagger UIì—ì„œ **`/api/admin/messages/send`** ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ëŒ€ëŸ‰ ë©”ì‹œì§€ë¥¼ ë°œì†¡í•©ë‹ˆë‹¤.

### 3ë‹¨ê³„: ê²°ê³¼ í™•ì¸
Swagger UIì—ì„œ **`/api/admin/messages/statistics`** ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°œì†¡ í†µê³„ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸ¤– Task Master (ê°œë°œ ê´€ë¦¬)

ì´ í”„ë¡œì íŠ¸ëŠ” Task Master MCPë¥¼ ì‚¬ìš©í•˜ì—¬ ê°œë°œ ì‘ì—…ì„ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•©ë‹ˆë‹¤.

**ì‘ì—… í˜„í™© í™•ì¸**: `.taskmaster/tasks/tasks.json` íŒŒì¼ì—ì„œ ëª¨ë“  ì‘ì—… ëª©ë¡ì„ ì§ì ‘ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ì£¼ìš” ëª…ë ¹ì–´

#### ì‘ì—… ëª©ë¡ í™•ì¸
```bash
task-master list                    # ëª¨ë“  ì‘ì—… ëª©ë¡ ë³´ê¸°
task-master next                    # ë‹¤ìŒ í•´ì•¼ í•  ì‘ì—… ë³´ê¸°
```

#### ì‘ì—… ìƒì„¸ ì •ë³´
```bash
task-master show 1                  # ì‘ì—… 1ë²ˆì˜ ìƒì„¸ ì •ë³´
task-master show 2.3                # ì‘ì—… 2.3ë²ˆì˜ ìƒì„¸ ì •ë³´
```

#### ì‘ì—… ìƒíƒœ ê´€ë¦¬
```bash
task-master set-status --id=1.2 --status=done    # ì‘ì—… ì™„ë£Œ í‘œì‹œ
task-master set-status --id=2 --status=in-progress # ì‘ì—… ì§„í–‰ ì¤‘ í‘œì‹œ
```

#### ë³µì¡ë„ ë¶„ì„
```bash
task-master analyze-complexity --research         # ì‘ì—… ë³µì¡ë„ ë¶„ì„
task-master complexity-report                     # ë³µì¡ë„ ë³´ê³ ì„œ í™•ì¸
```

